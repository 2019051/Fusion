<button class="ui right labeled icon blue newBuilding button">
    <i class="plus icon"></i>
    New
</button>
<div class="ui modal newBuilding">
    <i class="close icon"></i>
    <div class="header">
        New Building
    </div>
    <div class="ui vertical segment">
        <form class="ui form" method="POST" style="padding: 8px; padding-left: 24px; padding-right: 24px;">
            {% include 'estate/building_form.html' %}

            <input type="button" id="amb_submit" name="amb_submit" value="Create"
                class="ui submit large primary button" />
        </form>
    </div>
</div>
<script>
    $('.newBuilding.modal')
        .modal('attach events', '.newBuilding.button', 'show');
</script>

{% comment %}

<div class="ui modal new">
    <i class="close icon"></i>
    <div class="header">
        New Building
    </div>
    <div class="ui vertical segment">
        <form class="ui form" method="POST" style="padding: 8px; padding-left: 24px; padding-right: 24px;">
            {% include 'estate/building_form.html' %}

            <input type="button" id="amb_submit" name="amb_submit" value="Create"
                class="ui submit large primary button" />

        </form>
        <script type="text/javascript">
        </script>

    </div>
</div>

{{ buildings|json_script:"buildings-data" }}

<script>
    $('.new.button').on('click', function () {
        //const id = Number($(this).attr("data-id"));
        //const id = e.target.attributes["data-id"].nodeValue;
        //const building = JSON.parse(document.getElementById('buildings-data').textContent)[id];

        $('.new.modal')
            .modal({
                onShow: function () {
                    /*
                    $('.edit.modal .header')
                        .text(building.name);
                    $('.edit.modal #building_name').val(building.name);
                    $('.edit.modal #estd_cost').val(building.amount);
                    */
                }
            })
            .modal('show');
    });
</script>

{% endcomment %}